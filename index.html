<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ISA Explorer</title>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta name="author" content="ISAtools"/>
    <link rel="shortcut icon" href="assets/img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="assets/fonts/font-awesome-4.3.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/dashboard.css"/>
    <link href="assets/css/biosharing-icons.css" rel="stylesheet" type="text/css"/>
    <script src="assets/js/modernizr.custom.js"></script>
</head>
<body>
<div class="container">
    <button id="menu-toggle" class="menu-toggle"><span>Menu</span></button>

    <!---- sidebar --->
    <div id="sidebar" class="sidebar">
        <button class="close-button fa fa-fw fa-close"></button>

        <div class="logo" onclick="location.href='./index.html';">
        </div>

        <div class="search">
            <input id="search" name="q" value="" placeholder="Search"><span class="button"
                                                                            onclick="ISATABExplorer.functions.search()"><i
                class="fa fa-search"></i></span>

            <div style="margin-top: 10px;">
                <a href="#" id="reset-button" class="hidden"
                   onclick="$('#search').val(''); ISATABExplorer.functions.search()">Reset</a>
            </div>
        </div>

        <div class="clearfix"></div>

        <div id="filters">

            <div class="filter">
                <p>Data Repositories <span title="Filter by repositories where the datasets can be found"><i class="fa fa-info-circle"></i></span></p>
                <ul id="popular-repositories" class="filter-list"></ul>
                <span id="popular-repositories-reset" class="reset hidden" data-target="popular-repositories">Reset</span>
                <span id="popular-repositories-show-next-5" class="show-next-5" data-target="popular-repositories">Show next 5</span>
                <span id="popular-repositories-show-all" class="show-all" data-target="popular-repositories">Show all</span>
            </div>

            <div class="clearfix"></div>

            <div class="filter">
                <p>Designs <span title="Filter by the designs of the studies that yielded the datasets"><i class="fa fa-info-circle"></i></span></p>
                <ul id="popular-designs" class="filter-list"></ul>
                <span id="popular-designs-reset" class="reset hidden" data-target="popular-designs">Reset</span>
                <span id="popular-designs-show-next-5" class="show-next-5" data-target="popular-designs">Show next 5</span>
                <span id="popular-designs-show-all" class="show-all" data-target="popular-designs">Show all</span>
            </div>

            <div class="clearfix"></div>

            <div class="filter">
                <p>Measurement Types <span title="Filter by measurements used in the studies"><i class="fa fa-info-circle"></i></span></p>
                <ul id="popular-assays" class="filter-list"></ul>
                <span id="popular-assays-reset" class="reset hidden" data-target="popular-assays">Reset</span>
                <span id="popular-assays-show-next-5" class="show-next-5" data-target="popular-assays">Show next 5</span>
                <span id="popular-assays-show-all" class="show-all" data-target="popular-assays">Show all</span>
            </div>

            <div class="clearfix"></div>

            <div class="filter">
                <p>Technology Types <span title="Filter by technologies used in the studies"><i class="fa fa-info-circle"></i></span></p>
                <ul id="popular-technologies" class="filter-list"></ul>
                <span id="popular-technologies-reset" class="reset hidden" data-target="popular-technologies">Reset</span>
                <span id="popular-technologies-show-next-5" class="show-next-5" data-target="popular-technologies">Show next 5</span>
                <span id="popular-technologies-show-all" class="show-all" data-target="popular-technologies">Show all</span>
            </div>

            <div class="clearfix"></div>

            <div class="filter">
                <p>Factor Types <span title="Filter by experimental factors for the studies"><i class="fa fa-info-circle"></i></span></p>
                <ul id="popular-factors" class="filter-list"></ul>
                <span id="popular-factors-reset" class="reset hidden" data-target="popular-factors">Reset</span>
                <span id="popular-factors-show-next-5" class="show-next-5" data-target="popular-factors">Show next 5</span>
                <span id="popular-factors-show-all" class="show-all" data-target="popular-factors">Show all</span>
            </div>

            <div class="clearfix"></div>

            <div class="filter">
                <p>Organisms <span title="Filter by the organism used in the studies"><i class="fa fa-info-circle"></i></span></p>
                <ul id="popular-organisms" class="filter-list"></ul>
                <span id="popular-organisms-reset" class="reset hidden" data-target="popular-organisms">Reset</span>
                <span id="popular-organisms-show-next-5" class="show-next-5" data-target="popular-organisms">Show next 5</span>
                <span id="popular-organisms-show-all" class="show-all" data-target="popular-organisms">Show all</span>
            </div>

            <div class="clearfix"></div>

            <div class="filter">
                <p>Environment Types <span title="Filter by types of environments"><i class="fa fa-info-circle"></i></span></p>
                <ul id="popular-environments" class="filter-list"></ul>
                <span id="popular-environments-reset" class="reset hidden" data-target="popular-environments">Reset</span>
                <span id="popular-environments-show-next-5" class="show-next-5" data-target="popular-environments">Show next 5</span>
                <span id="popular-environments-show-all" class="show-all" data-target="popular-environments">Show all</span>
            </div>

            <div class="clearfix"></div>

            <div class="filter">
                <p>Geographic Locations <span title="Filter by geographic location"><i class="fa fa-info-circle"></i></span></p>
                <ul id="popular-locations" class="filter-list"></ul>
                <span id="popular-locations-reset" class="reset hidden" data-target="popular-locations">Reset</span>
                <span id="popular-locations-show-next-5" class="show-next-5" data-target="popular-locations">Show next 5</span>
                <span id="popular-locations-show-all" class="show-all" data-target="popular-locations">Show all</span>
            </div>


        </div>

        <div class="clearfix"></div>


        <div>
            <p>Part of  <a href="http://www.isa-tools.org"> <img src="./assets/img/isatools-logo.png" alt="ISA-tools" width="70" height="20" /></a></p>
            <p>Developed and maintained by <a href="http://www.isa-tools.org/team/">the ISA-tools Team</a></p>

           <!--
           <p>Developed and hosted at</p>
           <a href="http://oerc.ox.ac.uk"> <img src="./assets/img/newoerc_logo.jpg" alt="University of Oxford" width="40" height="40" /></a>
           <a href="http://www.ox.ac.uk"> <img src="./assets/img/university_of_oxford.png" alt="University of Oxford" width="40" height="40" /></a>
           -->
        </div>

    </div>

    <!--- end of sidebar --->

    <!--
    <div id="stats" align="center" style="width:1000px; margin:0 auto">

        <div class="chart-item" id="plot-data-repositories">
            <h4>Data Repositories</h4>
            <svg></svg>
        </div>

        <div class="chart-item" id="plot-designs">
            <h4>Designs</h4>
            <svg></svg>
        </div>

    </div>
    -->

    <div align="center">
                <div style="margin: 0 auto; width:600px;">
                What is the ISA-explorer tool? It is a beta-version tool to discover datasets from <a href="http://www.nature.com/sdata/">NPG Scientific Data</a>. Learn more about it in the <a href="http://blogs.nature.com/scientificdata/2015/12/17/isa-explorer/">Scientific Data blog post</a>.
                Do you have feedback? <a href="mailto:isatools@googlegroups.com?Subject=ISA-explorer">Write to us!</a>
                </div>
    </div>


    <div id="isatab_list" class="main">

        <div class="clearfix"></div>

        <section class="grid">

            <header class="top-bar"><span id="article-count"></span> Data Descriptor Articles Displayed</header>
            <!--populated from isatab-index.json content-->
        </section>
        <section class="content">
            <div class="scroll-wrap" id="isa-content">
            </div>
        </section>
    </div>
</div> <!-- /container -->


<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="assets/js/handlebars-v1.3.0.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="http://handsontable.com/dist/handsontable.full.js"></script>
<script src="assets/js/ISATabViewer.js"></script>
<script src="assets/js/lunr.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.10/d3.min.js"></script>
<script src="assets/js/visualization.js"></script>
<script src="assets/js/explorer.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/vis/d3.js"></script>
<script src="assets/js/vis/nv.d3.js"></script>


<script type="text/javascript">

    ISATABExplorer.functions.load_data('isatab-index.json');

    $('#search').on('keyup', function (e) {
        if (e.which == 13) {
            ISATABExplorer.functions.search();
        }
    });

    $('.show-next-5').click(function () {
        var data_target = $(this).attr('data-target');
        $("#" + data_target + " li.hidden").each(function(i) {
            if(i < 5) $(this).removeClass("hidden");

        });
        $("#" + data_target + "-reset").removeClass("hidden");
    });

    $('.show-all').click(function () {
        var data_target = $(this).attr('data-target');
        $("#" + data_target + " li").each(function() {
            $(this).removeClass("hidden");
        });
        $(this).addClass("hidden");
        $("#" + data_target + "-reset").removeClass("hidden");
        $("#" + data_target + "-show-next-5").addClass("hidden");
    });

    $('.reset').click(function () {
        var data_target = $(this).attr('data-target');
        $("#" + data_target + " li").each(function(i) {
            if(i >= 3) {
                $(this).addClass("hidden");
            }
        });
        $("#" + data_target + "-reset").addClass("hidden");
        $("#" + data_target + "-show-next-5").removeClass("hidden");
        $("#" + data_target + "-show-all").removeClass("hidden");
        $(this).removeClass("hidden");
    });
</script>

<script type="text/x-handlebars-template" class="template" id="submission_template">

    <a class="submission_item" href="#" data-location="{{location}}">
        <div itemscope itemtype ="http://schema.org/Dataset">
        <div class="meta meta--preview">

            <span class="meta_date"><i class="fa fa-calendar-o"></i> {{date}} <span title="Data descriptor article publication date"><i class="fa fa-info-circle"></i></span></span>
            <p class="hidden pub_assays">{{assays}}</p>
            <p class="hidden pub_environments">{{environments}}</p>
            <p class="hidden pub_organisms">{{organism}}</p>
            <p class="hidden pub_factors">{{factors}}</p>
            <p class="hidden pub_repositories">{{repository}}</p>
            <p class="hidden pub_technologies">{{technologies}}</p>
            <p class="hidden pub_designs">{{designs}}</p>
            <p class="hidden pub_locations">{{locations}}</p>

        </div>
        
        <h4 class="authors" itemprop="creator">{{authors}} <span title="Data descriptor article authors"><i class="fa fa-info-circle"></i></span></h4>

        <h2 class="title title--preview" itemprop="name">{{title}} <span title="Data Descriptor Article Title"><i class="fa fa-info-circle"></i></span></h2>


        <div class="search-item-block" style="margin-top: 15px; margin-bottom: 10px" id="filter-{{ result.record_id }}">
            <div class="search-item-details">
                <div class="clearfix"></div>
                <div class="bio-icon-system pull-left" style="font-size: 1.9em"></div>
                <div class="pull-left" style="margin-top: 4px">Data Repositories <span title="Number of data repositories hosting the data underlying this data descriptor article."><i class="fa fa-info-circle"></i></span></div>
                <span class="counter counter-blue">{{repository_count}}</span>
            </div>
        </div>


        <ul class="keywords" itemprop="keywords">
            {{#each keywords}}
            <li>{{this}}</li>
            {{/each}}
             <span title="Keywords"><i class="fa fa-info-circle"></i></span>
        </ul>


        <div class="loader"></div>
        </div>
    </a>

</script>


<script type="text/x-handlebars-template" class="template" id="filter_list_template">
    {{#each values}}

    <li class="{{#ifCond @index '>=' 3}}hidden{{/ifCond}}"><span class="value">{{this.key}}</span> <span
            class="count-badge">{{this.value}}</span></li>
    {{/each}}
</script>

<script type="text/x-handlebars-template" class="template" id="sample_list_template">
    <li onclick="ISATabViewer.rendering.render_assay('{{study_id}}','{{study_file}}')"
        style="font-size: 1em; font-weight: bolder">View samples<span class="count-badge">{{sample_count}}</span></li>
</script>

<script type="text/x-handlebars-template" class="template" id="meta_info_template">
    <span class="meta_date"><i class="fa fa-calendar-o" id="pub_date"></i> {{date}} <span title="Dataset publication date"><i class="fa fa-info-circle"></i>
</span></span>
    <span class="meta__link"><a href="http://dx.doi.org/{{doi}}"><i class="fa fa-link"></i>Data Descriptor Article <span title="Link to open the data descriptor article"><i class="fa fa-info-circle"></i>
</span></a></span>
    <span class="meta__link"><a href="{{download_link}}"><i class="fa fa-download"></i>Download Metadata<span title="Download the data descriptor"></span></a></span>

    <span class="meta_date"><i class="fa fa-copyright"></i> Dataset Metadata (in ISA format) License <span class="license-tag">{{metadata_license}}</span> <span title="License for the metadata"><i class="fa fa-info-circle"></i>
</span></span>
    <span class="meta_date"><i class="fa fa-copyright"></i> Data Descriptor Article License <span class="license-tag">{{manuscript_license}}</span> <span title="License for the article"><i class="fa fa-info-circle"></i>
</span></span>

    <div class="clearfix"></div>

    <div class="filter" id="data-link-panel">
        <p>Data Repository Links <span title="Links to data repositories where the data is stored"><i class="fa fa-info-circle"></i>
</span></p>
        <ul id="data-list">
            {{#each data}}
            <li>
                <i class="fa fa-link"></i> <a href="{{this}}" target="_new" style="color: #ffffff;">{{this}}</a>
            </li>
            {{/each}}
        </ul>
    </div>

    <div class="clearfix"></div>


    <div class="filter" id="assay-panel">
        <p>{{assay_count}}Assays</p>
        <ul id="assay-list">
            {{#each assays}}
            <li onclick="ISATabViewer.rendering.render_assay('{{../study_id}}','{{[Study Assay File Name]}}')">
                <div class="assay-information">
                    <p class="measurement-type">{{[Study Assay Measurement Type]}}</p>

                    <p class="technology-type">{{[Study Assay Technology Type]}}</p>

                    <!--<p class="technology-platform">{{[Study Assay Technology Platform]}}</p>-->

                    <p class="assay-file-name">{{[Study Assay File Name]}}</p>
                </div>

                <div class="assay-count">
                    <span class="count-badge"><i class="fa fa-chevron-right"></i> </span>
                </div>

            </li>
            {{/each}}
        </ul>
    </div>


</script>

<script type="text/x-handlebars-template" class="template" id="content_template">

    <article class="content__item">

        <div class="meta meta--full">

            <div class="logo" onclick="location.href='./index.html';"></div>

            <div id="meta_info">
            </div>

        </div>

        <div class="isa-main-view">
            <div class="isa-breadcrumbs">
                <ul id="isa-breadcrumb-items">
                </ul>
            </div>

            <div class="clearfix"></div>
            <div id="study-info"></div>
            <div class="clearfix"></div>
        </div>

    </article>

</script>


<script id="study-list-template" type="text/x-handlebars-template">
    {{#each studies}}
    <li id="list-{{this.hash}}" onclick="ISATabViewer.rendering.render_study('{{this.id}}', '{{this.hash}}')">
        {{this.id}}
    </li>
    {{/each}}

</script>

<script id="study-details-template" type="text/x-handlebars-template">
    <ul>
     {{#each study_details}}

        <li><p class="characteristic_type">{{this.name}}: </p>  {{this.values}}
        </li>

        {{/each}}
    </ul>
</script>

<script id="sample-distribution-template" type="text/x-handlebars-template">
    <ul>
        {{#each sample_stats}}
        <li>
            <!-- <p class="characteristic_type">{{name}} <span title="Samples distribution according to {{{name}}}"><i class="fa fa-info-circle"></i></span></p>-->
            <p class="characteristic_type">{{name}}</p>
            <div class="plot" id="plot-{{@index}}">
            </div>

            <div class="distribution-list" id="distribution-list-{{@index}}" style="height: 111px; overflow-y: scroll;">
                <!--this is populated by the visualization code-->
            </div>
        </li>

        {{/each}}
    </ul>
</script>

<script id="study-template" type="text/x-handlebars-template">

    <div id="study-title">{{study_title}}</div>
    <div id="study-description">
        <a href="http://dx.doi.org/{{study_id}}" target="_new"><i class="fa fa-link"></i> Read the <b>data descriptor article</b></a>
    </div>

    <div class="cf"></div>
    <br/>

    <div id="study">
        <div class="section-header">Study Details</div>

        <div class="clearfix"></div>

        <div id="study-details">
        </div>

    </div>


    <div id="samples">
        <div class="section-header">Sample Details <span class="btn btn-default" onclick="ISATabViewer.rendering.render_assay('{{study_id}}','{{study_file}}')">View samples.</span> </div>

        <div class="clearfix"></div>

        <div id="sample-distribution">

        </div>

    </div>

    <div id="factors">

        <span class="section-header">Factors</span>
        <ul>
            {{#each factors}}
            <li>
                <p class="protocol-name">{{[Study Factor Name]}} </p>
            </li>
            {{/each}}
        </ul>
    </div>


    <div id="protocols">
        <span class="section-header">Methods Details</span>
        <ul>
            {{#each protocols}}
            <li>
                <p class="protocol-name">{{[Study Protocol Name]}} <span
                        class="type-tag">{{[Study Protocol Type]}}</span></p>
            </li>
            {{/each}}
        </ul>
    </div>

    <div class="clearfix"></div>

    <div id="publications">

        <span class="section-header">Related Publications using this Dataset</span>
        <ul>
            {{#each publications}}
            <li>
                <p class="publication-title">{{[Study Publication Title]}}</p>

                <p class="publication-authors">{{[Study Publication Author List]}}</p>

                <p class="publication-doi"><a href="http://dx.doi.org/{{[Study Publication DOI]}}" target="_blank">{{[Study Publication DOI]}}</a></p>
            </li>
            {{/each}}
        </ul>
    </div>

    <div class="cf"></div>
    <br/><br/>

    <div id="contacts">

        <span class="section-header">Contacts</span>
        <ul>
            {{#each contacts}}
            <li>
                <p class="publication-title">{{[Study Person First Name]}} {{[Study Person Last Name]}} <span
                        class="publication-pubmed-id">{{[Study Person Affiliation]}}</span></p>
            </li>
            {{/each}}
        </ul>
    </div>

    <!--
   <div id="funders">

        <span class="section-header">Funders</span>
      <ul>
            {{#each contacts}}
            <li>
                <p class="publication-title">{{[Study Person First Name]}} {{[Study Person Last Name]}} <span
                        class="publication-pubmed-id">{{[Study Person Affiliation]}}</span></p>
            </li>
            {{/each}}
        </ul>

    </div>
    -->



</script>

<link rel="stylesheet" media="screen" href="http://handsontable.com/dist/handsontable.full.css">
<link rel="stylesheet" media="screen" href="assets/css/bootstrap.min.css">


</body>
</html>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71505955-1', 'auto');
  ga('send', 'pageview');

</script>
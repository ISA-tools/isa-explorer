<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ISA Explorer</title>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta name="author" content="ISAtools"/>
    <link rel="shortcut icon" href="assets/img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="assets/css/normalize.css"/>
    <link rel="stylesheet" type="text/css" href="assets/fonts/font-awesome-4.3.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/style2.css"/>
    <script src="assets/js/modernizr.custom.js"></script>
</head>
<body>
<div class="container">
    <button id="menu-toggle" class="menu-toggle"><span>Menu</span></button>
    <div id="sidebar" class="sidebar">
        <button class="close-button fa fa-fw fa-close"></button>

        <div class="logo"></div>

        <div class="search">
            <input id="search" name="q" value="" placeholder="Search"><span class="btn"
                                                                            onclick="ISATABExplorer.functions.search()"><i
                class="fa fa-search"></i></span>
        </div>

        <div class="clearfix"></div>

        <div class="filter">
            <p>Popular Keywords</p>
            <ul>
                <li>Retina <span class="badge">20</span></li>
                <li>Proteomics <span class="badge">15</span></li>
            </ul>

        </div>

    </div>
    <div id="isatab_list" class="main">
        <section class="grid">
            <header class="top-bar"><span id="article-count"></span> Studies Displayed</header>
            <!--populated from isatab-index.json content-->
        </section>
        <section class="content">
            <div class="scroll-wrap" id="isa-content">


            </div>
            <button class="close-button"><i class="fa fa-close"></i><span>Close</span></button>
        </section>
    </div>
</div>
<!-- /container -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="assets/js/handlebars-v1.3.0.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="http://handsontable.com/dist/handsontable.full.js"></script>
<script src="assets/js/ISATabViewer.js"></script>
<script src="assets/js/lunr.min.js"></script>
<script src="assets/js/explorer.js"></script>
<script src="assets/js/main.js"></script>

<script type="text/javascript">
    ISATABExplorer.functions.load_data('isatab-index.json');

    $('#search').on('keyup', function (e) {
        if (e.which == 13) {
            ISATABExplorer.functions.search();
        }
    });
</script>

<script type="text/x-handlebars-template" class="template" id="submission_template">


    <a class="submission_item" href="#" data-location="{{location}}">
        <div class="meta meta--preview">
            <span class="meta_date"><i class="fa fa-calendar-o"></i> {{date}}%></span>

            <div class="meta_measurement">
                {{#each assay_type}}
                    <div class="measurement-icon {{this}}"></div>
                {{/each}}
            </div>
        </div>

        <h4 class="authors">{{item.authors}}</h4>

        <h2 class="title title--preview">{{title}}</h2>


        <ul class="keywords">
            {{#each keywords}}
                <li>{{this}}</li>
            {{/each}}
        </ul>

        <div class="loader"></div>

    </a>

</script>

<script type="text/x-handlebars-template" class="template" id="content_template">

    <article class="content__item">

        <!--<h2 class="title title&#45;&#45;full">Genomes and phenomes of a population of outbred rats and its progenitors</h2>-->

        <div class="meta meta--full">

            <div class="logo"></div>

            <span class="meta__author">Amelie Baud</span>
            <span class="meta_date"><i class="fa fa-calendar-o"></i> 25 February 2014</span>
            <span class="meta__link"><i class="fa fa-link"></i> 10.1038/sdata.2014.1</span>

            <div class="clearfix"></div>

            <h4>Assays</h4>

            <div class="assay" id="assay-list">

            </div>


        </div>

        <div class="isa-main-view">
            <div class="isa-breadcrumbs">
                <ul id="isa-breadcrumb-items">
                </ul>
            </div>
            <div class="clearfix"></div>
            <div id="study-info"></div>
        </div>

    </article>

</script>


<script id="study-list-template" type="text/x-handlebars-template">

    {{#each studies}}
    <li id="list-{{this.hash}}" onclick="ISATabViewer.rendering.render_study('{{this.id}}', '{{this.hash}}')">
        {{this.id}}
    </li>
    {{/each}}

</script>


<script id="sample-distribution-template" type="text/x-handlebars-template">
    <ul id="sample_stats">
        {{#each sample_stats}}
        <li>
            <p class="characteristic_type">{{name}}</p>
            {{#each distribution}}
            <div class="distribution-group">
                <div class="distribution">{{name}}</div>
                <div class="distribution-value"><span>{{value}}</span></div>
            </div>
            <div class="cf"></div>
            {{/each}}
        </li>

        {{/each}}
    </ul>
</script>

<script id="study-template" type="text/x-handlebars-template">

    <div id="study-title">{{study_title}}</div>
    <div id="study-description">{{study_description}}</div>

    <div class="cf"></div>
    <br/>

    <div id="samples">
        <span class="section-header">Samples</span>

        <div class="cf"></div>

        <br/><br/>

        <span class="btn btn-green" style="width:auto;"
              onclick="ISATabViewer.rendering.render_assay('{{study_id}}','{{study_file}}')">
            View Samples</span>

        <br/>

        <div id="sample-distribution">
            <ul id="sample_stats">
                {{#each sample_stats}}
                <li>
                    <p class="characteristic_type">{{name}}</p>
                    {{#each distribution}}
                    <div class="distribution-group">
                        <div class="distribution">{{name}}</div>
                        <div class="distribution-value"><span>{{value}}</span></div>
                    </div>
                    <div class="cf"></div>
                    {{/each}}
                </li>
                {{/each}}
            </ul>
        </div>

    </div>

    <div id="assays">
        <span class="section-header">Assays</span>
        <ul>
            {{#each assays}}
            <li>
                <div class="assay-icon {{icon}}"></div>
                <p class="measurement-type">{{[Study Assay Measurement Type]}}</p>

                <p class="technology-type">{{[Study Assay Technology Type]}}</p>

                <p class="technology-platform">{{[Study Assay Technology Platform]}}</p>

                <p class="assay-file-name">{{[Study Assay File Name]}}</p>



                <button type="button" class="btn btn-primary" onclick="ISATabViewer.rendering.render_assay('{{../study_id}}','{{[Study Assay File Name]}}')">
                    Show assay
                </button>
            </li>
            {{/each}}
        </ul>
    </div>

    <div class="cf"></div>

    <div id="publications">

        <span class="section-header">Publications</span>
        <ul>
            {{#each publications}}
            <li>
                <p class="publication-title">{{[Study Publication Title]}}</p>

                <p class="publication-authors">{{[Study Publication Author List]}}</p>

                <p class="publication-pubmedid">Pubmed ID <span style="color:#26B99A">{{[Study PubMed ID]}}</span></p>

                <p class="publication-doi">DOI <span style="color:#26B99A">{{[Study Publication DOI]}}</span></p>
            </li>
            {{/each}}
        </ul>
    </div>

    <div class="cf"></div>
    <br/><br/>

    <div id="contacts">

        <span class="section-header">Contacts</span>
        <ul>
            {{#each contacts}}
            <li>
                <p class="publication-title">{{[Study Person First Name]}} {{[Study Person Last Name]}}</p>

                <p class="publication-authors">{{[Study Person Address]}}</p>

                <p class="publication-pubmedid">{{[Study Person Affiliation]}}</span></p>
            </li>
            {{/each}}
        </ul>
    </div>

    <div id="factors">

        <span class="section-header">Factors</span>
        <ul>
            {{#each factors}}
            <li>
                <p class="protocol-name">{{[Study Factor Name]}} ({{[Study Factor Type]}})</p>
            </li>
            {{/each}}
        </ul>
    </div>

    <div id="protocols">
        <span class="section-header">Protocols</span>
        <ul>
            {{#each protocols}}
            <li>
                <p class="protocol-name">{{[Study Protocol Name]}} ({{[Study Protocol Type]}})</p>
            </li>
            {{/each}}
        </ul>
    </div>

</script>

<link rel="stylesheet" media="screen" href="http://handsontable.com/dist/handsontable.full.css">
<link rel="stylesheet" media="screen" href="assets/css/bootstrap.min.css">
<link rel="stylesheet" media="screen" href="assets/css/viewer.css">

<div class="modal fade" id="table-modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Modal title</h4>
            </div>
            <div class="modal-body">
                <div id="table-info">

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

</body>
</html>
